// stmd.js - CommomMark in javascript
// Copyright (C) 2014 John MacFarlane
// License: BSD3.
// Modifications: Compressed with Closure Compiler by <http://keyboardfire.com>

// Basic usage:
//
// var stmd = require('stmd');
// var parser = new stmd.DocParser();
// var renderer = new stmd.HtmlRenderer();
// console.log(renderer.render(parser.parse('Hello *world*')));

(function(q){function r(){return{subject:"",label_nest_level:0,pos:0,refmap:{},match:w,peek:x,spnl:y,parseBackticks:z,parseEscaped:A,parseAutolink:B,parseHtmlTag:C,scanDelims:D,parseEmphasis:E,parseLinkTitle:F,parseLinkDestination:G,parseLinkLabel:H,parseLink:I,parseEntity:J,parseString:K,parseNewline:L,parseImage:M,parseReference:N,parseInline:O,parse:P}}var Q=/^(?:<[A-Za-z][A-Za-z0-9]*(?:\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\s*=\s*(?:[^"'=<>`\x00-\x20]+|'[^']*'|"[^"]*"))?)*\s*\/?>|<\/[A-Za-z][A-Za-z0-9]*\s*[>]|\x3c!--([^-]+|[-][^-]+)*--\x3e|[<][?].*?[?][>]|<![A-Z]+\s+[^>]*>|<!\[CDATA\[([^\]]+|\][^\]]|\]\][^>])*\]\]>)/i,
R=/^<(?:(?:article|header|aside|hgroup|iframe|blockquote|hr|body|li|map|button|object|canvas|ol|caption|output|col|p|colgroup|pre|dd|progress|div|section|dl|table|td|dt|tbody|embed|textarea|fieldset|tfoot|figcaption|th|figure|thead|footer|footer|tr|form|ul|h1|h2|h3|h4|h5|h6|video|script|style)[\s/>]|\/(?:article|header|aside|hgroup|iframe|blockquote|hr|body|li|map|button|object|canvas|ol|caption|output|col|p|colgroup|pre|dd|progress|div|section|dl|table|td|dt|tbody|embed|textarea|fieldset|tfoot|figcaption|th|figure|thead|footer|footer|tr|form|ul|h1|h2|h3|h4|h5|h6|video|script|style)[\s>]|[?!])/i,
S=/^(?:"(\\[!"#$%&'()*+,./:;<=>?@[\\\]^_`{|}~-]|[^"\x00])*"|'(\\[!"#$%&'()*+,./:;<=>?@[\\\]^_`{|}~-]|[^'\x00])*'|\((\\[!"#$%&'()*+,./:;<=>?@[\\\]^_`{|}~-]|[^)\x00])*\))/,T=/^(?:[<](?:[^<>\n\\\x00]|\\[!"#$%&'()*+,./:;<=>?@[\\\]^_`{|}~-]|\\)*[>])/,U=/^(?:[^\\()\x00-\x20]+|\\[!"#$%&'()*+,./:;<=>?@[\\\]^_`{|}~-]|\(([^\\()\x00-\x20]|\\[!"#$%&'()*+,./:;<=>?@[\\\]^_`{|}~-])*\))*/,V=/[!"#$%&'()*+,./:;<=>?@[\\\]^_`{|}~-]/,W=RegExp("\\\\([!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-])","g"),X=/\t/g,s=/^(?:(?:\* *){3,}|(?:_ *){3,}|(?:- *){3,}) *$/,
Y=/^(?:[\n`\[\]\\!<&*_]|[^\n`\[\]\\!<&*_]+)/m,l=function(a){return a.replace(W,"$1")},m=function(a,b,c){return(a=b.slice(c).match(a))?c+a.index:null},Z=function(a){if(-1==a.indexOf("\t"))return a;var b=0;return a.replace(X,function(a,d){var f="    ".slice((d-b)%4);b=d+1;return f})},w=function(a){return(a=a.exec(this.subject.slice(this.pos)))?(this.pos+=a.index+a[0].length,a[0]):null},x=function(){return this.subject[this.pos]||null},y=function(){this.match(/^ *(?:\n *)?/);return 1},z=function(a){var b=
this.pos,c=this.match(/^`+/);if(!c)return 0;for(var d=this.pos,f;f=this.match(/`+/m);)if(f==c)return a.push({t:"Code",c:this.subject.slice(d,this.pos-c.length).replace(/[ \n]+/g," ").trim()}),this.pos-b;a.push({t:"Str",c:c});this.pos=d;return this.pos-b},A=function(a){var b=this.subject,c=this.pos;if("\\"===b[c]){if("\n"===b[c+1])return a.push({t:"Hardbreak"}),this.pos+=2,2;if(V.test(b[c+1]))return a.push({t:"Str",c:b[c+1]}),this.pos+=2,2;this.pos++;a.push({t:"Str",c:"\\"});return 1}return 0},B=function(a){var b,
c;return(b=this.match(/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/))?(c=b.slice(1,-1),a.push({t:"Link",label:[{t:"Str",c:c}],destination:"mailto:"+c}),b.length):(b=this.match(/^<(?:coap|doi|javascript|aaa|aaas|about|acap|cap|cid|crid|data|dav|dict|dns|file|ftp|geo|go|gopher|h323|http|https|iax|icap|im|imap|info|ipp|iris|iris.beep|iris.xpc|iris.xpcs|iris.lwz|ldap|mailto|mid|msrp|msrps|mtqp|mupdate|news|nfs|ni|nih|nntp|opaquelocktoken|pop|pres|rtsp|service|session|shttp|sieve|sip|sips|sms|snmp|soap.beep|soap.beeps|tag|tel|telnet|tftp|thismessage|tn3270|tip|tv|urn|vemmi|ws|wss|xcon|xcon-userid|xmlrpc.beep|xmlrpc.beeps|xmpp|z39.50r|z39.50s|adiumxtra|afp|afs|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|chrome|chrome-extension|com-eventbrite-attendee|content|cvs|dlna-playsingle|dlna-playcontainer|dtn|dvb|ed2k|facetime|feed|finger|fish|gg|git|gizmoproject|gtalk|hcp|icon|ipn|irc|irc6|ircs|itms|jar|jms|keyparc|lastfm|ldaps|magnet|maps|market|message|mms|ms-help|msnim|mumble|mvn|notes|oid|palm|paparazzi|platform|proxy|psyc|query|res|resource|rmi|rsync|rtmp|secondlife|sftp|sgn|skype|smb|soldat|spotify|ssh|steam|svn|teamspeak|things|udp|unreal|ut2004|ventrilo|view-source|webcal|wtai|wyciwyg|xfire|xri|ymsgr):[^<>\x00-\x20]*>/i))?
(c=b.slice(1,-1),a.push({t:"Link",label:[{t:"Str",c:c}],destination:c}),b.length):0},C=function(a){var b=this.match(Q);return b?(a.push({t:"Html",c:b}),b.length):0},D=function(a){var b=0,c,d,f=this.pos;for(c=0===this.pos?"\n":this.subject[this.pos-1];this.peek()===a;)b++,this.pos++;d=this.peek()||"\n";var e=0<b&&3>=b&&!/\s/.test(d),h=0<b&&3>=b&&!/\s/.test(c);"_"===a&&(e=e&&!/[a-z0-9]/i.test(c),h=h&&!/[a-z0-9]/i.test(d));this.pos=f;return{numdelims:b,can_open:e,can_close:h}},E=function(a){var b=this.pos,
c,d=0;c=this.peek();if("*"!=c&&"_"!=c)return 0;var f,e;res=this.scanDelims(c);f=res.numdelims;this.pos+=f;a.push({t:"Str",c:this.subject.substr(this.pos-f,f)});e=a.length-1;if(!res.can_open||0===f)return 0;var h=0;switch(f){case 1:for(;;)if(res=this.scanDelims(c),1<=res.numdelims&&res.can_close){this.pos+=1;a[e].t="Emph";a[e].c=a.slice(e+1);a.splice(e+1);break}else if(0===this.parseInline(a))break;return this.pos-b;case 2:for(;;)if(res=this.scanDelims(c),2<=res.numdelims&&res.can_close){this.pos+=
2;a[e].t="Strong";a[e].c=a.slice(e+1);a.splice(e+1);break}else if(0===this.parseInline(a))break;return this.pos-b;case 3:for(;;)if(res=this.scanDelims(c),1<=res.numdelims&&3>=res.numdelims&&res.can_close&&res.numdelims!=h)if(1===h&&2<f?res.numdelims=2:2===h?res.numdelims=1:3===res.numdelims&&(res.numdelims=1),this.pos+=res.numdelims,0<d){a[e].t=1===h?"Strong":"Emph";a[e].c=[{t:1===h?"Emph":"Strong",c:a.slice(e+1,d)}].concat(a.slice(d+1));a.splice(e+1);break}else a.push({t:"Str",c:this.subject.slice(this.pos-
res.numdelims,this.pos)}),d=a.length-1,h=res.numdelims;else if(0===this.parseInline(a))break;return this.pos-b;default:return res}},F=function(){var a=this.match(S);return a?l(a.substr(1,a.length-2)):null},G=function(){var a=this.match(T);if(a)return l(a.substr(1,a.length-2));a=this.match(U);return null!==a?l(a):null},H=function(){if("["!=this.peek())return 0;var a=this.pos,b=0;if(0<this.label_nest_level)return this.label_nest_level--,0;this.pos++;for(var c;(c=this.peek())&&("]"!=c||0<b);)switch(c){case "`":this.parseBackticks([]);
break;case "<":this.parseAutolink([])||this.parseHtmlTag([])||this.parseString([]);break;case "[":b++;this.pos++;break;case "]":b--;this.pos++;break;case "\\":this.parseEscaped([]);break;default:this.parseString([])}if("]"===c)return this.label_nest_level=0,this.pos++,this.pos-a;c||(this.label_nest_level=b);this.pos=a;return 0},t=function(a){return(new r).parse(a.substr(1,a.length-2),{})},I=function(a){var b=this.pos,c,d,f;c=this.parseLinkLabel();if(0===c)return 0;var e=this.subject.substr(b,c);if("("==
this.peek()){this.pos++;if(this.spnl()&&null!==(d=this.parseLinkDestination())&&this.spnl()&&(/^\s/.test(this.subject[this.pos-1])&&(f=this.parseLinkTitle()||""),1)&&this.spnl()&&this.match(/^\)/))return a.push({t:"Link",destination:d,title:f,label:t(e)}),this.pos-b;this.pos=b;return 0}d=this.pos;this.spnl();f=this.pos;c=this.parseLinkLabel();2==c?c=e:0<c?c=this.subject.slice(f,f+c):(this.pos=d,c=e);if(c=this.refmap[c.trim().replace(/\s+/," ").toUpperCase()])return a.push({t:"Link",destination:c.destination,
title:c.title,label:t(e)}),this.pos-b;this.pos=b;return 0},J=function(a){var b;return(b=this.match(/^&(?:#x[a-f0-9]{1,8}|#[0-9]{1,8}|[a-z][a-z0-9]{1,31});/i))?(a.push({t:"Entity",c:b}),b.length):0},K=function(a){var b;return(b=this.match(Y))?(a.push({t:"Str",c:b}),b.length):0},L=function(a){if("\n"==this.peek()){this.pos++;var b=a[a.length-1];b&&"Str"==b.t&&"  "==b.c.slice(-2)?(b.c=b.c.replace(/ *$/,""),a.push({t:"Hardbreak"})):(b&&"Str"==b.t&&" "==b.c.slice(-1)&&(b.c=b.c.slice(0,-1)),a.push({t:"Softbreak"}));
return 1}return 0},M=function(a){if(this.match(/^!/)){var b=this.parseLink(a);if(0===b)return a.push({t:"Str",c:"!"}),1;if(a[a.length-1]&&"Link"==a[a.length-1].t)return a[a.length-1].t="Image",b+1;throw"Shouldn't happen";}return 0},N=function(a,b){this.subject=a;this.pos=0;var c,d,f,e=this.pos;d=this.parseLinkLabel();if(0===d)return 0;c=this.subject.substr(0,d);if(":"===this.peek())this.pos++;else return this.pos=e,0;this.spnl();d=this.parseLinkDestination();if(null===d||0===d.length)return this.pos=
e,0;var h=this.pos;this.spnl();f=this.parseLinkTitle();null===f&&(f="",this.pos=h);if(null===this.match(/^ *(?:\n|$)/))return this.pos=e,0;c=c.trim().replace(/\s+/," ").toUpperCase();b[c]||(b[c]={destination:d,title:f});return this.pos-e},O=function(a){var b;switch(this.peek()){case "\n":b=this.parseNewline(a);break;case "\\":b=this.parseEscaped(a);break;case "`":b=this.parseBackticks(a);break;case "*":case "_":b=this.parseEmphasis(a);break;case "[":b=this.parseLink(a);break;case "!":b=this.parseImage(a);
break;case "<":b=this.parseAutolink(a)||this.parseHtmlTag(a);break;case "&":b=this.parseEntity(a)}return b||this.parseString(a)},P=function(a,b){this.subject=a;this.pos=0;this.refmap=b||{};for(var c=[];this.parseInline(c););return c},n=function(a,b,c){return{t:a,open:!0,last_line_blank:!1,start_line:b,start_column:c,end_line:b,children:[],parent:null,string_content:"",strings:[],inline_content:[]}},$=function(a,b){return"Document"==a||"BlockQuote"==a||"ListItem"==a||"List"==a&&"ListItem"==b},u=function(a){return"Paragraph"==
a||"IndentedCode"==a||"FencedCode"==a},p=function(a){return a.last_line_blank?!0:("List"==a.t||"ListItem"==a.t)&&0<a.children.length?p(a.children[a.children.length-1]):!1},aa=function(a,b){var c=a,d=null;do"List"===c.t&&(d=c),c=c.parent;while(c);if(d){for(;a!=d;)this.finalize(a,b),a=a.parent;this.finalize(d,b);this.tip=d.parent}},ba=function(a,b){var c=a.slice(b);if(!this.tip.open)throw{msg:"Attempted to add line ("+a+") to closed container."};this.tip.strings.push(c)},ca=function(a,b,c){for(;!$(this.tip.t,
a);)this.finalize(this.tip,b);a=n(a,b,c+1);this.tip.children.push(a);a.parent=this.tip;return this.tip=a},da=function(a,b){var c=a.slice(b),d,f,e={};if(c.match(s))return null;if(d=c.match(/^[*+-]( +|$)/))f=d[1].length,e.type="Bullet",e.bullet_char=d[0][0];else if(d=c.match(/^(\d+)([.)])( +|$)/))f=d[3].length,e.type="Ordered",e.start=parseInt(d[1]),e.delimiter=d[2];else return null;c=d[0].length===c.length;e.padding=5<=f||1>f||c?d[0].length-f+1:d[0].length;return e},ea=function(a,b){return a.type===
b.type&&a.delimiter===b.delimiter&&a.bullet_char===b.bullet_char},fa=function(a,b){var c=!0,d,f=0,e,h,k,g=this.doc,l=this.tip;for(a=Z(a);0<g.children.length;){d=g.children[g.children.length-1];if(!d.open)break;g=d;e=m(/[^ ]/,a,f);null===e?(d=a.length,e=!0):(d=e,e=!1);h=d-f;switch(g.t){case "BlockQuote":3>=h&&">"===a[d]?(f=d+1," "===a[f]&&f++):c=!1;break;case "ListItem":h>=g.list_data.marker_offset+g.list_data.padding?f+=g.list_data.marker_offset+g.list_data.padding:e?f=d:c=!1;break;case "IndentedCode":4<=
h?f+=4:e?f=d:c=!1;break;case "ATXHeader":case "SetextHeader":case "HorizontalRule":c=!1;break;case "FencedCode":for(d=g.fence_offset;0<d&&" "===a[f];)f++,d--;break;case "HtmlBlock":e&&(c=!1);break;case "Paragraph":e&&(g.last_line_blank=!0,c=!1)}if(!c){g=g.parent;break}}k=g;c=function(a){for(;!c&&l!=k;)a.finalize(l,b),l=l.parent;var c=!0};for(e&&g.last_line_blank&&this.breakOutOfLists(g,b);"FencedCode"!=g.t&&"IndentedCode"!=g.t&&"HtmlBlock"!=g.t&&null!==m(/^[ #`~*+_=<>0-9-]/,a,f);){e=m(/[^ ]/,a,f);
null===e?(d=a.length,e=!0):(d=e,e=!1);h=d-f;if(4<=h)if("Paragraph"==this.tip.t||e)break;else f+=4,c(this),g=this.addChild("IndentedCode",b,f);else if(">"===a[d])f=d+1," "===a[f]&&f++,c(this),g=this.addChild("BlockQuote",b,f);else if(e=a.slice(d).match(/^#{1,6}(?: +|$)/)){f=d+e[0].length;c(this);g=this.addChild("ATXHeader",b,d);g.level=e[0].trim().length;g.strings=[a.slice(f).replace(/(?:(\\#) *#*| *#+) *$/,"$1")];break}else if(e=a.slice(d).match(/^`{3,}(?!.*`)|^~{3,}(?!.*~)/)){h=e[0].length;c(this);
g=this.addChild("FencedCode",b,d);g.fence_length=h;g.fence_char=e[0][0];g.fence_offset=d-f;f=d+h;break}else if(null!==m(R,a,d)){c(this);g=this.addChild("HtmlBlock",b,d);break}else if("Paragraph"==g.t&&1===g.strings.length&&(e=a.slice(d).match(/^(?:=+|-+) *$/)))c(this),g.t="SetextHeader",g.level="="===e[0][0]?1:2,f=a.length;else if(null!==m(s,a,d)){c(this);g=this.addChild("HorizontalRule",b,d);f=a.length-1;break}else if(e=da(a,d))c(this),e.marker_offset=h,f=d+e.padding,"List"===g.t&&ea(g.list_data,
e)||(g=this.addChild("List",b,d),g.list_data=e),g=this.addChild("ListItem",b,d),g.list_data=e;else break;if(u(g.t))break}e=m(/[^ ]/,a,f);null===e?(d=a.length,e=!0):(d=e,e=!1);h=d-f;if(this.tip!==k&&!e&&"Paragraph"==this.tip.t&&0<this.tip.strings.length)this.last_line_blank=!1,this.addLine(a,f);else{c(this);g.last_line_blank=e&&!("BlockQuote"==g.t||"FencedCode"==g.t||"ListItem"==g.t&&0===g.children.length&&g.start_line==b);for(c=g;c.parent;)c.parent.last_line_blank=!1,c=c.parent;switch(g.t){case "IndentedCode":case "HtmlBlock":this.addLine(a,
f);break;case "FencedCode":(e=3>=h&&a[d]==g.fence_char&&a.slice(d).match(/^(?:`{3,}|~{3,})(?= *$)/))&&e[0].length>=g.fence_length?this.finalize(g,b):this.addLine(a,f);break;case "ATXHeader":case "SetextHeader":case "HorizontalRule":break;default:u(g.t)?this.addLine(a,d):e||("HorizontalRule"!=g.t&&"SetextHeader"!=g.t?(g=this.addChild("Paragraph",b,d),this.addLine(a,d)):console.log("Line "+b.toString()+" with container type "+g.t+" did not match any condition."))}}},ga=function(a,b){var c;if(!a.open)return 0;
a.open=!1;a.end_line=b>a.start_line?b-1:b;switch(a.t){case "Paragraph":for(a.string_content=a.strings.join("\n").replace(/^  */m,"");"["===a.string_content[0]&&(c=this.inlineParser.parseReference(a.string_content,this.refmap));)if(a.string_content=a.string_content.slice(c),/^\s*$/.test(a.string_content)){a.t="ReferenceDef";break}break;case "ATXHeader":case "SetextHeader":case "HtmlBlock":a.string_content=a.strings.join("\n");break;case "IndentedCode":a.string_content=a.strings.join("\n").replace(/(\n *)*$/,
"\n");break;case "FencedCode":a.info=l(a.strings[0].trim());a.string_content=1==a.strings.length?"":a.strings.slice(1).join("\n")+"\n";break;case "List":a.tight=!0;c=a.children.length;for(var d=0;d<c;){var f=a.children[d],e=d==c-1;if(p(f)&&!e){a.tight=!1;break}for(var h=f.children.length,k=0;k<h;){var g=k==h-1;if(p(f.children[k])&&(!e||!g)){a.tight=!1;break}k++}d++}}this.tip=a.parent||this.top},ha=function(a){switch(a.t){case "Paragraph":case "SetextHeader":case "ATXHeader":a.inline_content=this.inlineParser.parse(a.string_content.trim(),
this.refmap),a.string_content=""}if(a.children)for(var b=0;b<a.children.length;b++)this.processInlines(a.children[b])},ia=function(a){this.tip=this.doc=n("Document",1,1);this.refmap={};a=a.replace(/\n$/,"").split(/\r\n|\n|\r/);for(var b=a.length,c=0;c<b;c++)this.incorporateLine(a[c],c+1);for(;this.tip;)this.finalize(this.tip,b-1);this.processInlines(this.doc);return this.doc},k=function(a,b,c,d){var f="<"+a;if(b)for(var e=0,h;void 0!==(h=b[e]);)f=f.concat(" ",h[0],'="',h[1],'"'),e++;return f=c?f.concat(">",
c,"</",a,">"):d?f+" />":f.concat("></",a,">")},ja=function(a){var b;switch(a.t){case "Str":return this.escape(a.c);case "Softbreak":return this.softbreak;case "Hardbreak":return k("br",[],"",!0)+"\n";case "Emph":return k("em",[],this.renderInlines(a.c));case "Strong":return k("strong",[],this.renderInlines(a.c));case "Html":return a.c;case "Entity":return a.c;case "Link":return b=[["href",this.escape(a.destination,!0)]],a.title&&b.push(["title",this.escape(a.title,!0)]),k("a",b,this.renderInlines(a.label));
case "Image":return b=[["src",this.escape(a.destination,!0)],["alt",this.escape(this.renderInlines(a.label))]],a.title&&b.push(["title",this.escape(a.title,!0)]),k("img",b,"",!0);case "Code":return k("code",[],this.escape(a.c));default:return console.log("Uknown inline type "+a.t),""}},ka=function(a){for(var b="",c=0;c<a.length;c++)b+=this.renderInline(a[c]);return b},v=function(a,b){var c,d;switch(a.t){case "Document":return c=this.renderBlocks(a.children),""===c?"":c+"\n";case "Paragraph":return b?
this.renderInlines(a.inline_content):k("p",[],this.renderInlines(a.inline_content));case "BlockQuote":return c=this.renderBlocks(a.children),k("blockquote",[],""===c?this.innersep:this.innersep+this.renderBlocks(a.children)+this.innersep);case "ListItem":return k("li",[],this.renderBlocks(a.children,b).trim());case "List":return c="Bullet"==a.list_data.type?"ul":"ol",d=a.list_data.start&&1!=a.list_data.start?[["start",a.list_data.start.toString()]]:[],k(c,d,this.innersep+this.renderBlocks(a.children,
a.tight)+this.innersep);case "ATXHeader":case "SetextHeader":return c="h"+a.level,k(c,[],this.renderInlines(a.inline_content));case "IndentedCode":return k("pre",[],k("code",[],this.escape(a.string_content)));case "FencedCode":return c=a.info.split(/ +/),d=0===c.length||0===c[0].length?[]:[["class","language-"+this.escape(c[0],!0)]],k("pre",[],k("code",d,this.escape(a.string_content)));case "HtmlBlock":return a.string_content;case "ReferenceDef":return"";case "HorizontalRule":return k("hr",[],"",
!0);default:return console.log("Uknown block type "+a.t),""}},la=function(a,b){for(var c=[],d=0;d<a.length;d++)"ReferenceDef"!==a[d].t&&c.push(this.renderBlock(a[d],b));return c.join(this.blocksep)};q.DocParser=function(){return{doc:n("Document",1,1),tip:this.doc,refmap:{},inlineParser:new r,breakOutOfLists:aa,addLine:ba,addChild:ca,incorporateLine:fa,finalize:ga,processInlines:ha,parse:ia}};q.HtmlRenderer=function(){return{blocksep:"\n",innersep:"\n",softbreak:"\n",escape:function(a,b){return b?
a.replace(/[&](?![#](x[a-f0-9]{1,8}|[0-9]{1,8});|[a-z][a-z0-9]{1,31};)/gi,"&amp;").replace(/[<]/g,"&lt;").replace(/[>]/g,"&gt;").replace(/["]/g,"&quot;"):a.replace(/[&]/g,"&amp;").replace(/[<]/g,"&lt;").replace(/[>]/g,"&gt;").replace(/["]/g,"&quot;")},renderInline:ja,renderInlines:ka,renderBlock:v,renderBlocks:la,render:v}}})("undefined"===typeof exports?this.stmd={}:exports);
